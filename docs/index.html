<!DOCTYPE html>
<html><head><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1" name="viewport"><link href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" rel="stylesheet" type="text/css"><link href="https://storage.googleapis.com/nextjournal-cas-eu/data/8VxQBDwk3cvr1bt8YVL5m6bJGrFEmzrSbCrH1roypLjJr4AbbteCKh9Y6gQVYexdY85QA2HG5nQFLWpRp69zFSPDJ9" rel="stylesheet" type="text/css"><link href="https://storage.googleapis.com/nextjournal-cas-eu/data/8VvykE47cdahchdt8fxwHyYwJ7YSmEFcMSyqf4UNs61izpuF1xXpKA4HeZQctDkkU11B5iLVSBjpCQrk5f5mWXS9xv" rel="stylesheet" type="text/css"><script src="https://storage.googleapis.com/nextjournal-cas-eu/data/8VwG2fdyhJNgY8iUttUnPQvDxXXhM4NbYE76jWE2bkBUJmpKjKMSQhiMYRnuVT1G2zgdfDHAC8bcSGkWoacPFqCnwy" type="text/javascript"></script></head><body><div id="clerk-static-app"></div><script>let viewer = nextjournal.clerk.sci_viewer
let app = nextjournal.clerk.static_app
let docs = viewer.read_string("{\"src/notebooks/day1.clj\" {:nextjournal/value [{:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [:div.viewer-markdown [:h1 [:a {:href \\\"https://adventofcode.com/2021/day/1\\\", :target \\\"_blank\\\"} \\\"Advent of Code - Day 1\\\"]]], :nextjournal/viewer {:name :html, :render-fn #function+ v/html, :fetch-fn \\\"nextjournal.clerk.viewer/fetch-all\\\"}}\"}, :path []} {:nextjournal/value \" I'm trying something new this year. My goal is to reduce the stress\\n of advent of code by taking my time more on each problem and\\n suppressing my natural competitiveness.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" I plan on documenting my appraoch here\\n using [Clerk](https://github.com/nextjournal/clerk)\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" Clerk comes with many nifty visualization tools and is extensible\\n so learning how to use it may prove useful in the future.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(def input (util/input-for \\\"day1\\\"))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [\\\"189\\\\n190\\\\n199\\\\n197\\\\n200\\\\n201\\\\n199\\\\n216\\\\n224\\\\n239\\\\n243\\\\n236\\\\n235\\\\n236\\\\n238\\\\n246\\\\n245\\\\n249\\\\n252\\\\n256\\\\n260\\\\n263\\\\n280\\\\n290\\\\n300\\\\n\\\" {:nextjournal/value {:path [], :count 9774, :offset 100, :remaining 9674}, :nextjournal/viewer :elision}], :nextjournal/viewer {:render-fn #function+ v/quoted-string-viewer, :fetch-opts {:n 100}}, :replace-path [0]}\"}, :path [], :replace-path [0]} {:nextjournal/value \"(def parsed-input (mapv #(Long/parseLong %) (str/split-lines input)))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value 189, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [1], :nextjournal/value 190, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [2], :nextjournal/value 199, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [3], :nextjournal/value 197, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [4], :nextjournal/value 200, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [5], :nextjournal/value 201, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [6], :nextjournal/value 199, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [7], :nextjournal/value 216, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [8], :nextjournal/value 224, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [9], :nextjournal/value 239, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [10], :nextjournal/value 243, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [11], :nextjournal/value 236, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [12], :nextjournal/value 235, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [13], :nextjournal/value 236, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [14], :nextjournal/value 238, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [15], :nextjournal/value 246, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [16], :nextjournal/value 245, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [17], :nextjournal/value 249, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [18], :nextjournal/value 252, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:path [19], :nextjournal/value 256, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}} {:nextjournal/value {:count 2000, :offset 20, :path [], :remaining 1980}, :nextjournal/viewer :elision}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"[\\\", :close \\\"]\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\"]\\\")}}\"}, :path []} {:nextjournal/value \" ## Part 1\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" Part 1 asks us to count the number of times the numbers\\n increase. Clojure has a handy function called `partition` that will\\n give us a sliding window of values. By filtering with the `<`\\n function we can get a list of all the windows that\\n increased. Counting that sequence will give us the answer to part\\n 1.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(->> (partition 2 1 parsed-input)\\n     (filter #(apply < %))\\n     count)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value 1390, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}\"}, :path []} {:nextjournal/value \" ## Part 2\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" Part 2 is very similar to part 1 except we need to first use a\\n sliding window of size 3, then sum the windows, then proceed with\\n the approach from part 1.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(->> (partition 3 1 parsed-input)\\n     (map #(apply + %))\\n     (partition 2 1)\\n     (filter #(apply < %))\\n     count)\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value 1457, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}\"}, :path []}], :nextjournal/viewer :clerk/notebook, :scope {:namespace :notebooks.day1}}, \"src/notebooks/day2.clj\" {:nextjournal/value [{:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [:div.viewer-markdown [:h1 [:a {:href \\\"https://adventofcode.com/2021/day/2\\\", :target \\\"_blank\\\"} \\\"Advent of Code - Day 2\\\"]]], :nextjournal/viewer {:name :html, :render-fn #function+ v/html, :fetch-fn \\\"nextjournal.clerk.viewer/fetch-all\\\"}}\"}, :path []} {:nextjournal/value \" ## Part 1\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(def input (util/input-for \\\"day2\\\"))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [\\\"forward 3\\\\ndown 6\\\\nforward 7\\\\ndown 4\\\\ndown 8\\\\ndown 6\\\\ndown 4\\\\ndown 6\\\\nforward 7\\\\ndown 5\\\\nforward 1\\\\nup 7\\\\nup 6\\\\nd\\\" {:nextjournal/value {:path [], :count 7675, :offset 100, :remaining 7575}, :nextjournal/viewer :elision}], :nextjournal/viewer {:render-fn #function+ v/quoted-string-viewer, :fetch-opts {:n 100}}, :replace-path [0]}\"}, :path [], :replace-path [0]} {:nextjournal/value \" The input represents a list of instructions consisting of a\\n direction and a value (an integer). I'm representing each\\n instruction as a map with keys `:dir` and `:value`. I chose to make\\n the direction a keyword instead of a string because they are a\\n little nicer to work with.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" I wasted a little time because I initially forgot to parse the\\n value into a number.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(def parsed-input\\n  (for [[dir n] (map #(str/split % #\\\" \\\") (str/split-lines input))]\\n    {:dir (keyword dir)\\n     :value (Long/parseLong n)}))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value [{:path [0 0 0], :nextjournal/value :dir, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 0 1], :nextjournal/value :forward, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [0 1], :nextjournal/value [{:path [0 1 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1 1], :nextjournal/value 3, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value [{:path [1 0 0], :nextjournal/value :dir, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 0 1], :nextjournal/value :down, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1 1], :nextjournal/value [{:path [1 1 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1 1], :nextjournal/value 6, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value [{:path [2 0 0], :nextjournal/value :dir, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 0 1], :nextjournal/value :forward, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2 1], :nextjournal/value [{:path [2 1 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1 1], :nextjournal/value 7, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value [{:path [3 0 0], :nextjournal/value :dir, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 0 1], :nextjournal/value :down, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [3 1], :nextjournal/value [{:path [3 1 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [3 1 1], :nextjournal/value 4, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [4], :nextjournal/value [{:path [4 0], :nextjournal/value [{:path [4 0 0], :nextjournal/value :dir, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [4 0 1], :nextjournal/value :down, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [4 1], :nextjournal/value [{:path [4 1 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [4 1 1], :nextjournal/value 8, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [5], :nextjournal/value [{:path [5 0], :nextjournal/value [{:path [5 0 0], :nextjournal/value :dir, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [5 0 1], :nextjournal/value :down, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [5 1], :nextjournal/value [{:path [5 1 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [5 1 1], :nextjournal/value 6, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [6], :nextjournal/value [{:path [6 0], :nextjournal/value [{:path [6 0 0], :nextjournal/value :dir, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [6 0 1], :nextjournal/value :down, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [6 1], :nextjournal/value [{:path [6 1 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [6 1 1], :nextjournal/value 4, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [7], :nextjournal/value [{:path [7 0], :nextjournal/value [{:path [7 0 0], :nextjournal/value :dir, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [7 0 1], :nextjournal/value :down, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [7 1], :nextjournal/value [{:path [7 1 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [7 1 1], :nextjournal/value 6, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [8], :nextjournal/value [{:path [8 0], :nextjournal/value [{:path [8 0 0], :nextjournal/value :dir, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [8 0 1], :nextjournal/value :forward, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [8 1], :nextjournal/value [{:path [8 1 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [8 1 1], :nextjournal/value 7, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [9], :nextjournal/value [{:path [9 0], :nextjournal/value [{:path [9 0 0], :nextjournal/value :dir, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [9 0 1], :nextjournal/value :down, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [9 1], :nextjournal/value [{:path [9 1 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [9 1 1], :nextjournal/value 5, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [10], :nextjournal/value [{:path [10 0], :nextjournal/value [{:path [10 0 0], :nextjournal/value :dir, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [10 0 1], :nextjournal/value :forward, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [10 1], :nextjournal/value [{:path [10 1 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [10 1 1], :nextjournal/value 1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [11], :nextjournal/value [{:path [11 0], :nextjournal/value [{:path [11 0 0], :nextjournal/value :dir, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [11 0 1], :nextjournal/value :up, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [11 1], :nextjournal/value [{:path [11 1 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [11 1 1], :nextjournal/value 7, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [12], :nextjournal/value [{:path [12 0], :nextjournal/value [{:path [12 0 0], :nextjournal/value :dir, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [12 0 1], :nextjournal/value :up, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [12 1], :nextjournal/value [{:path [12 1 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [12 1 1], :nextjournal/value 6, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [13], :nextjournal/value [{:path [13 0], :nextjournal/value [{:path [13 0 0], :nextjournal/value :dir, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [13 0 1], :nextjournal/value :down, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [13 1], :nextjournal/value [{:path [13 1 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [13 1 1], :nextjournal/value 1, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [14], :nextjournal/value [{:path [14 0], :nextjournal/value [{:path [14 0 0], :nextjournal/value :dir, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [14 0 1], :nextjournal/value :down, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [14 1], :nextjournal/value [{:path [14 1 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [14 1 1], :nextjournal/value 2, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [15], :nextjournal/value [{:path [15 0], :nextjournal/value [{:path [15 0 0], :nextjournal/value :dir, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [15 0 1], :nextjournal/value :forward, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [15 1], :nextjournal/value [{:path [15 1 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [15 1 1], :nextjournal/value 3, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [16], :nextjournal/value [{:path [16 0], :nextjournal/value [{:path [16 0 0], :nextjournal/value :dir, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [16 0 1], :nextjournal/value :forward, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [16 1], :nextjournal/value [{:path [16 1 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [16 1 1], :nextjournal/value 3, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [17], :nextjournal/value [{:path [17 0], :nextjournal/value [{:path [17 0 0], :nextjournal/value :dir, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [17 0 1], :nextjournal/value :forward, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [17 1], :nextjournal/value [{:path [17 1 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [17 1 1], :nextjournal/value 4, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [18], :nextjournal/value [{:path [18 0], :nextjournal/value [{:path [18 0 0], :nextjournal/value :dir, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [18 0 1], :nextjournal/value :up, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [18 1], :nextjournal/value [{:path [18 1 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [18 1 1], :nextjournal/value 9, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:path [19], :nextjournal/value [{:path [19 0], :nextjournal/value [{:path [19 0 0], :nextjournal/value :dir, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [19 0 1], :nextjournal/value :up, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [19 1], :nextjournal/value [{:path [19 1 0], :nextjournal/value :value, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [19 1 1], :nextjournal/value 4, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}} {:nextjournal/value {:count 1000, :offset 20, :path [], :remaining 980}, :nextjournal/viewer :elision}], :nextjournal/viewer {:render-fn #function+ (partial v/coll-viewer {:open \\\"(\\\", :close \\\")\\\"}), :fetch-opts {:n 20}, :closing-parens (\\\")\\\")}}\"}, :path []} {:nextjournal/value \" I'll model the submarine state with a map, with keys `:pos`\\n and `:depth` initialized to `0`.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(def initial-state {:pos 0 :depth 0})\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :depth, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :pos, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}}\"}, :path []} {:nextjournal/value \" Now we need a function that takes the current state and an\\n instruction and returns an updated state. I'll call this function\\n `move`.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(defn move [state {:keys [dir value]}]\\n  (condp = dir\\n    :forward (update state :pos + value)\\n    :down (update state :depth + value)\\n    :up (update state :depth - value)))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"notebooks.day2/move\\\", :nextjournal/viewer {:name :fn, :render-fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :path []} {:nextjournal/value \" To get the final state, we can reduce our input using the move\\n function and our initial state.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(def part1 (reduce move initial-state parsed-input))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :depth, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value 1001, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :pos, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value 1923, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}}\"}, :path []} {:nextjournal/value \" Then we get the answer by multiplying the position by the depth\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(* (:pos part1) (:depth part1))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value 1924923, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}\"}, :path []} {:nextjournal/value \" ## Part 2\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" Part 2 alters the semantics of the instructions, and introduces a\\n new bit of state called `:aim`.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \" Let's make a new `move2` function that implements the new instruction\\n logic.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(defn move2 [{:keys [aim] :as state} {:keys [dir value]}]\\n  (condp = dir\\n    :forward (-> state\\n                 (update :pos + value)\\n                 (update :depth + (* aim value)))\\n    :down (update state :aim + value)\\n    :up (update state :aim - value)))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value \\\"notebooks.day2/move2\\\", :nextjournal/viewer {:name :fn, :render-fn #function+ (fn [x] (v/html [:span.inspected-value [:span.syntax-tag \\\"#function\\\"] \\\"[\\\" x \\\"]\\\"]))}}\"}, :path []} {:nextjournal/value \" Reducing with this new function (and new `:aim` state initialized\\n to `0`) gives us the final state of part 2.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(def part2 (reduce move2 (assoc initial-state :aim 0) parsed-input))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value :aim, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [0 1], :nextjournal/value 1001, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value :depth, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [1 1], :nextjournal/value 1030939, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value :pos, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-keyword.inspected-value (str x)]))}} {:path [2 1], :nextjournal/value 1923, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}], :nextjournal/viewer {:name :map-entry, :render-fn #function+ (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}}], :nextjournal/viewer {:name :map, :render-fn #function+ v/map-viewer, :fetch-opts {:n 10}, :closing-parens (\\\"}\\\")}}\"}, :path []} {:nextjournal/value \" And again, multiplying the position and depth give us the answer.\\n\", :nextjournal/viewer :markdown} {:nextjournal/value \"(* (:pos part2) (:depth part2))\", :nextjournal/viewer :code} {:nextjournal/viewer :clerk/result, :nextjournal/value {:nextjournal/edn \"{:path [], :nextjournal/value 1982495697, :nextjournal/viewer {:render-fn #function+ (fn [x] (v/html [:span.syntax-number.inspected-value (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}}\"}, :path []}], :nextjournal/viewer :clerk/notebook, :scope {:namespace :notebooks.day2}}}")
app.init(docs)
</script></body></html>